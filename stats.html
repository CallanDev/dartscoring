<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Darts Stats</title>
<style>
body {
  background-color: #121212;
  color: #ffcc00;
  font-family: 'Arial Black', Arial, sans-serif;
  padding: 30px;
  user-select: none;
  min-height: 100vh;
}
h1 {
  text-align: center;
  font-size: 3rem;
  margin-bottom: 30px;
  text-shadow: 0 0 10px #ffcc00;
}
#leaderboard {
  max-width: 600px;
  margin: 0 auto;
  background: #222200cc;
  border: 2px solid #ffcc00;
  border-radius: 12px;
  padding: 20px;
}
#leaderboard ol {
  font-size: 1.4rem;
  padding-left: 25px;
}
#leaderboard li {
  margin-bottom: 10px;
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid #ffcc00;
  padding-bottom: 5px;
}
.playerName {
  font-weight: 700;
}
.playerStats {
  font-weight: 400;
  font-size: 1.2rem;
}
</style>
</head>
<body>
<h1>Final Placements & Stats</h1>
<div id="leaderboard">
  <ol id="placementList">
    <li>Loading final results...</li>
  </ol>
</div>

<script>
function loadFinalResults() {
  const placementsRaw = localStorage.getItem("darts_final_results");
  const statsRaw = localStorage.getItem("darts_player_stats");

  if (!placementsRaw) {
    document.getElementById("placementList").innerHTML = "<li>No final results found.</li>";
    return;
  }

  const placements = JSON.parse(placementsRaw);
  const stats = statsRaw ? JSON.parse(statsRaw) : {};

  const listEl = document.getElementById("placementList");
  listEl.innerHTML = "";

  placements.forEach((player, index) => {
    const stat = stats[player];
    const avg = stat && stat.average ? stat.average : "N/A";
    const score = stat && stat.score ? stat.score : "-";

    const li = document.createElement("li");
    li.innerHTML = `
      <span class="playerName">${index + 1}. ${player}</span>
      <span class="playerStats">Final Score: ${score} | Average: ${avg}</span>
    `;
    listEl.appendChild(li);
  });
}

window.onload = loadFinalResults;
</script>
</body>
</html>

