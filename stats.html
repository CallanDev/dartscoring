<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Darts Stats</title>
<style>
body {
  background-color: #121212;
  color: #ffcc00;
  font-family: Arial, sans-serif;
  padding: 30px;
}
h1 {
  text-align: center;
  margin-bottom: 20px;
  text-shadow: 0 0 6px #ffcc00;
}
table {
  margin: 0 auto;
  border-collapse: collapse;
  width: 70%;
  max-width: 600px;
}
th, td {
  border: 1px solid #ffcc00;
  padding: 12px 15px;
  text-align: center;
}
th {
  background-color: #333300;
}
tbody tr:hover {
  background-color: #444400;
}
</style>
</head>
<body>

<h1>Player Statistics</h1>

<table>
  <thead>
    <tr>
      <th>Player</th>
      <th>Games Played</th>
      <th>Wins</th>
      <th>Avg Score per Throw</th>
      <th>Win %</th>
    </tr>
  </thead>
  <tbody id="statsBody"></tbody>
</table>

<script>
function loadStats() {
  const stats = JSON.parse(localStorage.getItem("darts_stats")) || {};
  const players = Object.keys(stats);

  if (players.length === 0) {
    document.getElementById("statsBody").innerHTML = `<tr><td colspan="5">No stats available.</td></tr>`;
    return;
  }

  const rows = players.map((player) => {
    const { gamesPlayed, wins, totalScore, throwsCount } = stats[player];
    const avgScore = throwsCount > 0 ? (totalScore / throwsCount).toFixed(2) : "0.00";
    const winPercent = gamesPlayed > 0 ? ((wins / gamesPlayed) * 100).toFixed(1) : "0.0";

    return `
      <tr>
        <td>${player}</td>
        <td>${gamesPlayed}</td>
        <td>${wins}</td>
        <td>${avgScore}</td>
        <td>${winPercent}%</td>
      </tr>
    `;
  });

  document.getElementById("statsBody").innerHTML = rows.join("");
}

loadStats();
</script>

</body>
</html>

